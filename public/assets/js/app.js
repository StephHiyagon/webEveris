"use strict";function fondoRandon(e){var a=["fondo-1.jpg","fondo-2.jpg","fondo-3.jpg"],n=a[Math.floor(Math.random()*a.length)];e.css("background-image","url(assets/img/"+n+")"),console.log(n)}var filtroContacto=function(e,a){return state.personal.filter(function(a){return a.Apellido.toLowerCase().indexOf(e)>-1||a.Apellido2.toLowerCase().indexOf(e)>-1||a.Nombre.toLowerCase().indexOf(e)>-1||a.DatosEmpleado.EMPLOYEE_NUMBER.toLowerCase().indexOf(e)>-1})},reRender=function(e,a){a.empty(),state.personal.forEach(function(e){a.append(placeItem(e,a))})},render=function(e){e.empty();var a=$('<div class="wrapper"></div>'),n=function(){render(e)};null==state.page?a.append(Login(function(a){return render(e)})):state.page==Dashboard?(console.log("Hola"),a.append(Navbar(n)),a.append(state.page(function(a){return render(e)}))):state.page==Buscar&&(a.append(Navbar(n)),a.append(state.page(function(a){return render(e)}))),e.append(a)},state={page:null,user:null,news:null};$(function(e){$.get("https://hackathon-ef798.firebaseio.com/getemployee.json",function(e){if(!e)return alert("no hay data gg");state.user=e.persona,console.log(e.persona),$.get("https://hackathon-ef798.firebaseio.com/news.json",function(e){if(!e)return alert("no hay data gg");state.news=e.data,console.log(state.news)});var a=$("#root");render(a)})});var validarLetra=function(e){e.which>47&&e.which<58&&e.preventDefault()},Buscar=function(e){var a=$('<div class="row"></div>'),n=$('<form class="col s12 m8 l6 offset-l3 offset-m2 autocomplete="off""></form>'),t=$('<div class="row"></div>'),o=$('<div class="input-field col s12"><i class="material-icons prefix">search</i></div>'),s=$('<input id="icon_prefix" type="text" class="validate">'),i=$('<label for="icon_prefix">Buscar</label>'),l=$('<div class="autocomplete"></div>');o.append(s),o.append(i),o.append(l),t.append(o),n.append(t),a.append(n);var r=void 0;return s.on({keyup:function(e){""!=$(e.currentTarget).val()?(r=filtroContacto($(this).val().toLowerCase(),l),console.log(state.personal)):(l.hide(),l.empty())}}),a};$(function(e){$.get("https://hackathon-ef798.firebaseio.com/findemployees.json",function(e){if(!e)return alert("no hay data");state.personal=e.Personal})});var Dashboard=function(e){var a=$('<div class="container"></div>'),n=$('<div class="row"></div>'),t=$('<div class="col s12 col m4 center-align"></div>'),o=$('<img src="'+state.user.foto+'" alt="foto de perfil"/>'),s=$('<p class="blue-text">'+state.user.nombrePersona+" "+state.user.apellidoPersona+"</p>"),i=$('<div class="col s12 col m8"></div>'),l=$("<div><h4>News</h4></div>");state.news.forEach(function(e){e.attachments.data[0].title,console.log(e.attachments.data[0].title),l.append("<h5>"+e.attachments.data[0].title+"</h5>")});return a.append(n),n.append(t),t.append(o),t.append(s),n.append(i),i.append(l),a},Login=function(e){var a=$('<div class="flex fondo row"></div>'),n=$('<form class="col l4 offset-l4 flex"></form>'),t=$('<div class="div-logo"></div>'),o=$('<img class="logo" src="assets/img/everis.png">'),s=$('<div class=" input-field"><div>'),i=$('<input id="last_name" type="text" class="validate">'),l=$('<label for="last_name">Usuario</label>'),r=$('<div class=" input-field"><div>'),d=$('<input id="password" type="password" class="validate">'),p=$('<label for="password">Contrase√±a</label>'),c=$('<a class="center-align button waves-effect waves-light btn-large">Entrar</a>');return a.append(n),n.append(t,s,r),t.append(o),s.append(i,l),r.append(d,p),n.append(c),fondoRandon(a),c.on("click",function(){state.page=Dashboard,e()}),a},Navbar=function(e){var a=$("<div class='lime'></div>"),n=$("<div class='row'></div>"),t=$("<a href='#' class='color-white brand-logo col s6'>Everis</a>"),o=$("<a href='#' data-activates='mobile-demo' class='color-white button-collapse col s6 right-align'></a>"),s=$("<i class='material-icons'>menu</i>"),i=($("<ul class='right hide-on-med-and-down'></ul>"),$("<li><a href='#'>Perfil</a></li>")),l=$("<li><a href='#'>Beneficios</a></li>"),r=$("<li><a href='#'>Buscar</a></li>"),d=$("<ul class='side-nav' id='mobile-demo'></ul>");return o.append(s),d.append(i,l,r),n.append(t),n.append(o),a.append(n),a.append(d),r.on("click",function(){state.page=Buscar,e()}),$(function(e){$(".button-collapse").sideNav({menuWidth:300,edge:"right"})}),a};