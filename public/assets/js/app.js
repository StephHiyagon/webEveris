"use strict";function fondoRandon(e){var a=["fondo-1.jpg","fondo-2.jpg","fondo-3.jpg"],s=a[Math.floor(Math.random()*a.length)];e.css("background-image","url(assets/img/"+s+")"),console.log(s)}var filtroContacto=function(e,a){return state.personal.filter(function(a){return a.Apellido.toLowerCase().indexOf(e)>-1||a.Apellido2.toLowerCase().indexOf(e)>-1||a.Nombre.toLowerCase().indexOf(e)>-1||a.DatosEmpleado.EMPLOYEE_NUMBER.toLowerCase().indexOf(e)>-1})},reRender=function(e,a){a.empty(),state.personal.forEach(function(e){a.append(placeItem(e,a))})},render=function(e){e.empty();var a=$('<div class="wrapper"></div>'),s=function(){render(e)};null==state.page?a.append(Login(function(a){return render(e)})):state.page==Dashboard?(console.log("Hola"),a.append(Navbar(s)),a.append(state.page(function(a){return render(e)}))):state.page==Buscar?(a.append(Navbar(s)),a.append(state.page(function(a){return render(e)}))):state.page==Beneficios&&(a.append(Navbar(s)),a.append(state.page(function(a){return render(e)}))),e.append(a)},state={page:null,user:null,news:null,benefits:null};$(function(e){$.get("https://hackathon-ef798.firebaseio.com/getemployee.json",function(e){if(!e)return alert("no hay data gg");state.user=e.persona,console.log(e.persona),$.get("https://hackathon-ef798.firebaseio.com/news.json",function(e){if(!e)return alert("no hay data gg");state.news=e.data,console.log(state.news)}),$.get("https://hackathon-ef798.firebaseio.com/benefits.json",function(e){if(!e)return alert("no hay data gg");state.benefits=e,console.log(e[1])});var a=$("#root");render(a)})});var validarLetra=function(e){e.which>47&&e.which<58&&e.preventDefault()},Beneficios=function(){var e=$('<div class="container-fluid">Beneficios</div>'),a=$('<div class="row"></div>'),s=$('<div class="col m2 hide-on-small-only"></div>'),n=$('<ul class="collection"><li class="collection-item dismissable"><div>Alvin<a href="#!" class="secondary-content"><i class="material-icons">send</i></a></div></li><li class="collection-item dismissable"><div>Alvin<a href="#!" class="secondary-content"><i class="material-icons">send</i></a></div></li><li class="collection-item dismissable"><div>Alvin<a href="#!" class="secondary-content"><i class="material-icons">send</i></a></div></li><li class="collection-item dismissable"><div>Alvin<a href="#!" class="secondary-content"><i class="material-icons">send</i></a></div></li><li class="collection-item dismissable"><div>Alvin<a href="#!" class="secondary-content"><i class="material-icons">send</i></a></div></li><li class="collection-item dismissable"><div>Alvin<a href="#!" class="secondary-content"><i class="material-icons">send</i></a></div></li></ul>'),i=$('<div class="col s12 m10"></div>');e.append(a),a.append(s,i),s.append(n);for(var t=0;t<10;t++){var o=$('<div class="col s12 m6"></div>'),l=$('<div class="card horizontal height"></div>'),c=$('<div class="img-promocion valign-wrapper card-image"></div>'),d=$('<img src="'+state.benefits[t].imgCompany+'">'),r=$('<div class="card-stacked"></div>'),p=$('<div class="promocion card-content"></div>'),f=$("<h4>"+state.benefits[t].nameCompany+"</h4>"),v=$("<p>"+state.benefits[t].title+"</p>"),u=$('<span class="float-right">'+state.benefits[t].discount+"</span>");i.append(o),o.append(l),l.append(c,r),c.append(d),r.append(p),p.append(p,f,v,u)}return e},Buscar=function(e){var a=$('<div class="row"></div>'),s=$('<form class="col s12 m8 l6 offset-l3 offset-m2 autocomplete="off""></form>'),n=$('<div class="row"></div>'),i=$('<div class="input-field col s12"><i class="material-icons prefix">search</i></div>'),t=$('<input id="icon_prefix" type="text" class="validate">'),o=$('<label for="icon_prefix">Buscar</label>'),l=$('<div class="autocomplete"></div>');i.append(t),i.append(o),i.append(l),n.append(i),s.append(n),a.append(s);var c=void 0;return t.on({keyup:function(e){""!=$(e.currentTarget).val()?(c=filtroContacto($(this).val().toLowerCase(),l),console.log(state.personal)):(l.hide(),l.empty())}}),a};$(function(e){$.get("https://hackathon-ef798.firebaseio.com/findemployees.json",function(e){if(!e)return alert("no hay data");state.personal=e.Personal})});var Dashboard=function(e){var a=$('<div class="container"></div>'),s=$('<div class="row"></div>'),n=$('<div class="col s12 col m4 center-align"></div>'),i=$('<img src="'+state.user.foto+'" alt="foto de perfil"/>'),t=$('<p class="blue-text">'+state.user.nombrePersona+" "+state.user.apellidoPersona+"</p>"),o=$('<div class="col s12 col m8"></div>'),l=$("<div><h4>News</h4></div>");state.news.forEach(function(e){e.attachments.data[0].title,console.log(e.attachments.data[0].title),l.append("<h5>"+e.attachments.data[0].title+"</h5>")});return a.append(s),s.append(n),n.append(i),n.append(t),s.append(o),o.append(l),a},Login=function(e){var a=$('<div class="flex fondo row"></div>'),s=$('<form class="col l4 offset-l4 flex"></form>'),n=$('<div class="div-logo"></div>'),i=$('<img class="logo" src="assets/img/everis.png">'),t=$('<div class=" input-field"><div>'),o=$('<input id="last_name" type="text" class="validate">'),l=$('<label for="last_name">Usuario</label>'),c=$('<div class=" input-field"><div>'),d=$('<input id="password" type="password" class="validate">'),r=$('<label for="password">Contrase√±a</label>'),p=$('<a class="center-align button waves-effect waves-light btn-large">Entrar</a>');return a.append(s),s.append(n,t,c),n.append(i),t.append(o,l),c.append(d,r),s.append(p),fondoRandon(a),p.on("click",function(){state.page=Dashboard,e()}),a},Navbar=function(e){var a=$("<div class='lime'></div>"),s=$("<div class='row'></div>"),n=$("<a href='#' class='color-white brand-logo col s6'>Everis</a>"),i=$("<a href='#' data-activates='mobile-demo' class='color-white button-collapse col s6 right-align'></a>"),t=$("<i class='material-icons'>menu</i>"),o=($("<ul class='right hide-on-med-and-down'></ul>"),$("<li><a href='#'>Perfil</a></li>")),l=$("<li><a href='#'>Beneficios</a></li>"),c=$("<li><a href='#'>Buscar</a></li>"),d=$("<ul class='side-nav' id='mobile-demo'></ul>");return i.append(t),d.append(o,l,c),s.append(n),s.append(i),a.append(s),a.append(d),c.on("click",function(){state.page=Buscar,e()}),l.on("click",function(){state.page=Beneficios,e()}),$(function(e){$(".button-collapse").sideNav({menuWidth:300,edge:"right"})}),a};